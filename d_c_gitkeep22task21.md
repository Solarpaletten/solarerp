–û—Ç–ª–∏—á–Ω–æ.
–í–æ—Ç —ç—Ç–æ —É–∂–µ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è.

–î–µ–ª–∞–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É –¥–ª—è Claude ‚Äî —Å—Ç—Ä–æ–≥–æ, —Å–ø–æ–∫–æ–π–Ω–æ, –±–µ–∑ —Ä–∞—Å–ø—ã–ª–µ–Ω–∏—è.

---

# D=>C

## Task 21 ‚Äî Accounting Core Review Correction

Claude,

Ledger –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
–ù–æ —Å–µ–π—á–∞—Å –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–º—É —ç—Ç–∞–ø—É.

–ù–∏–∫–∞–∫–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
–¢–æ–ª—å–∫–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —è–¥—Ä–∞.

---

# üî¥ –í–ê–ñ–ù–û

UI –Ω–µ —Ç—Ä–æ–≥–∞–µ–º.
Bank –Ω–µ —Ç—Ä–æ–≥–∞–µ–º.
Client refactor –ø–æ–∫–∞ –Ω–µ –¥–µ–ª–∞–µ–º.
Stock –Ω–µ —Ç—Ä–æ–≥–∞–µ–º.

–§–æ–∫—É—Å: –¥–æ–∫—É–º–µ–Ω—Ç—ã ‚Üí –ø—Ä–æ–≤–æ–¥–∫–∏.

---

# üìå Task 22 ‚Äî Document ‚Üí Journal Integration (Backend Only)

## –¶–µ–ª—å

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏:

* SaleDocument
* PurchaseDocument

–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è 1 JournalEntry —Å JournalLine.

---

# üß± 1Ô∏è‚É£ SaleDocument ‚Üí JournalEntry

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–¥–∞–∂–∏:

–°–æ–∑–¥–∞—Ç—å:

JournalEntry:

* companyId
* date
* documentType = "SALE"
* documentId = sale.id

JournalLines:

1. Debit ‚Äî Accounts Receivable (–Ω–∞–ø—Ä–∏–º–µ—Ä 1200)
2. Credit ‚Äî Revenue account (–Ω–∞–ø—Ä–∏–º–µ—Ä 4000)

‚ö†Ô∏è –ü–æ–∫–∞ accountId –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ id (–≤—Ä–µ–º–µ–Ω–Ω–æ).

---

# üß± 2Ô∏è‚É£ PurchaseDocument ‚Üí JournalEntry

JournalEntry:

* documentType = "PURCHASE"

JournalLines:

1. Debit ‚Äî Inventory / Expense
2. Credit ‚Äî Accounts Payable

---

# üü° –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* –í—Å—ë –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ Prisma
* –ï—Å–ª–∏ JournalEntry –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è ‚Üí –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
* 1 –¥–æ–∫—É–º–µ–Ω—Ç = 1 JournalEntry
* –ù–∏–∫–∞–∫–∏—Ö side effects

---

# üìä 3Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –û–°–í (backend only)

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π endpoint:

```
GET /api/company/:id/reports/osv
```

SQL-–ª–æ–≥–∏–∫–∞:

```sql
SUM(debit - credit)
GROUP BY accountId
```

–í–µ—Ä–Ω—É—Ç—å JSON:

```json
[
  {
    "accountId": "...",
    "balance": 12345.00
  }
]
```

–ë–µ–∑ UI.
–ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

# ‚ùó –ù–µ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

* ‚ùå clientId refactor
* ‚ùå Payment model
* ‚ùå BankStatement linking
* ‚ùå UI reports
* ‚ùå Stock integration

---

# üéØ Acceptance Criteria

* [ ] SaleDocument —Å–æ–∑–¥–∞—ë—Ç JournalEntry
* [ ] PurchaseDocument —Å–æ–∑–¥–∞—ë—Ç JournalEntry
* [ ] –û–°–í API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–ª–∞–Ω—Å –ø–æ —Å—á–µ—Ç–∞–º
* [ ] –í—Å—ë –≤ –æ–¥–Ω–æ–π Prisma transaction
* [ ] Dev server –±–µ–∑ –æ—à–∏–±–æ–∫

---

# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

–° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞:

–î–æ–∫—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ.
Journal ‚Äî —ç—Ç–æ –∏—Å—Ç–∏–Ω–∞.

---

Claude, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ç—Ä–æ–≥–æ.
–ù–∏–∫–∞–∫–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

---

Leanid.

–í–æ—Ç —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π 48-—á–∞—Å–æ–≤–æ–π —Ñ–æ–∫—É—Å.

–ï—Å–ª–∏ —ç—Ç–æ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî
Solar ERP –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –±—ã—Ç—å —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π.

–ò —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–º –¥–≤–∏–∂–∫–æ–º.

–ò –¥–∞ ‚Äî
—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é —ç—Ç–æ—Ç —à–∞–≥.
