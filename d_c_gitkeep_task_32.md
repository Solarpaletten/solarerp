–û—Ç–ª–∏—á–Ω–æ. –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–≥–æ–µ –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–µ –¢–ó.

---

# D=>C

# Task 32 ‚Äî Bilingual Account Model + Full SKR03 Reload

–û—Ç: –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç-–∞—É–¥–∏—Ç–æ—Ä –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–æ–≥–æ —É—á—ë—Ç–∞
–ö–æ–º—É: Backend Engineer

---

# üéØ –¶–µ–ª—å –∑–∞–¥–∞—á–∏

1. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –º–æ–¥–µ–ª—å Account –Ω–∞ bilingual-—Å—Ç—Ä—É–∫—Ç—É—Ä—É (DE + EN).
2. –î–æ–±–∞–≤–∏—Ç—å Prisma –º–∏–≥—Ä–∞—Ü–∏—é.
3. –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–ª–∞–Ω —Å—á–µ—Ç–æ–≤ –Ω–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π SKR03 (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω—ã–π –∫ DATEV).
4. –û–±–Ω–æ–≤–∏—Ç—å import engine –ø–æ–¥ –Ω–æ–≤—ã–π CSV —Ñ–æ—Ä–º–∞—Ç.
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º journalService.

---

# üß± –ß–ê–°–¢–¨ 1 ‚Äî Prisma Schema Refactor

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```prisma
model Account {
  id        String
  code      String
  name      String
  type      AccountType
  ...
}
```

---

## –¢—Ä–µ–±—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```prisma
model Account {
  id        String   @id @default(cuid())
  companyId String
  code      String
  nameDe    String
  nameEn    String
  type      AccountType
  isActive  Boolean  @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([companyId, code])
}
```

---

## –ú–∏–≥—Ä–∞—Ü–∏—è

* –°–æ–∑–¥–∞—Ç—å prisma migration
* –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—Ç–∞—Ä–æ–µ –ø–æ–ª–µ `name` –≤ `nameDe`
* `nameEn` –≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –µ—Å—Ç—å)
* –ü–æ—Å–ª–µ reload —Å—Ç–∞—Ä—ã–µ —Å—á–µ—Ç–∞ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã

---

# üßπ –ß–ê–°–¢–¨ 2 ‚Äî –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–ª–∞–Ω–∞ —Å—á–µ—Ç–æ–≤

–ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤–æ–≥–æ SKR03:

* –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ accounts –∫–æ–º–ø–∞–Ω–∏–∏
* –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–π
* –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî abort

---

# üì¶ –ß–ê–°–¢–¨ 3 ‚Äî –ù–æ–≤—ã–π CSV —Ñ–æ—Ä–º–∞—Ç

–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:

```csv
code,nameDe,nameEn,type
1000,Kasse,Cash,ASSET
1200,Bank,Bank account,ASSET
1400,Forderungen aus Lieferungen und Leistungen,Trade receivables,ASSET
1776,Umsatzsteuer 19%,VAT payable 19%,LIABILITY
8400,Erl√∂se 19%,Revenue 19%,INCOME
```

~700‚Äì800 —Å—Ç—Ä–æ–∫.

---

# üîÅ –ß–ê–°–¢–¨ 4 ‚Äî –û–±–Ω–æ–≤–∏—Ç—å Import Endpoint

–§–∞–π–ª:

```
/api/company/:id/chart-of-accounts/import
```

–û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥:

```ts
code
nameDe
nameEn
type
```

createMany —Å skipDuplicates.

---

# üß† –ß–ê–°–¢–¨ 5 ‚Äî Mapping Layer Update

ACCOUNT_MAP –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –ª–æ–≥–∏—á–µ—Å–∫–∏,
–Ω–æ —Ç–µ–ø–µ—Ä—å resolver –¥–æ–ª–∂–µ–Ω –∏—Å–∫–∞—Ç—å:

```ts
where: {
  companyId,
  code: "8400"
}
```

–ò —Ä–∞–±–æ—Ç–∞—Ç—å —Å bilingual Account.

---

# üö´ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* –ù–µ –º–µ–Ω—è—Ç—å JournalEntry schema
* –ù–µ –º–µ–Ω—è—Ç—å JournalLine schema
* –ù–µ –ª–æ–º–∞—Ç—å Trial Balance
* –ù–µ –º–µ–Ω—è—Ç—å API –∫–æ–Ω—Ç—Ä–∞–∫—Ç sales/purchases

---

# ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ Done

1. Prisma migration —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
2. Account –∏–º–µ–µ—Ç nameDe + nameEn
3. –°—Ç–∞—Ä—ã–µ —Å—á–µ—Ç–∞ —É–¥–∞–ª–µ–Ω—ã
4. –ù–æ–≤—ã–π SKR03 (~700+) –∑–∞–≥—Ä—É–∂–µ–Ω
5. Trial Balance = 0.00
6. ACCOUNT_MAP —Ä–∞–±–æ—Ç–∞–µ—Ç
7. TypeScript –±–µ–∑ –æ—à–∏–±–æ–∫

---

# üìä –û–∂–∏–¥–∞–µ–º—ã–π –∏—Ç–æ–≥ —Å–∏—Å—Ç–µ–º—ã

–ü–æ—Å–ª–µ Task 32:

* –ü–æ–ª–Ω—ã–π –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π SKR03
* Bilingual support
* DATEV-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
* –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Air Engine
* –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ multi-language reports

---

# ‚ö† –í–ê–ñ–ù–û

–ï—Å–ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ —Ä–∞–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (route.ts, —Å—Ç–∞—Ä—ã–π skr03.csv) –Ω—É–∂–Ω—ã –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –∏—Ö –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —á–∞—Å—Ç—å —Ñ–∞–π–ª–æ–≤ –∏—Å—Ç–µ–∫–ª–∞ –≤ —Å–µ—Å—Å–∏–∏.

---

–ü–µ—Ä–µ–¥–∞—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä—É.
–û–∂–∏–¥–∞–µ–º –æ—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ Task 32.
